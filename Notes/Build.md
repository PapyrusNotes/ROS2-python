
# 설치
2. binary 형태로 다운받아 실행
2. 소스코드를 다운받아 빌드하기. 패키지를 수정해서 사용하거나 소스코드 내용을 확인할 필요가 있다면 후자의 설치 방법 이용.

# 설치폴더나 사용자 작업폴더에 설치하기
1. 설치폴더에는 ros2의 데스크톱 버전을 설치
/opt/ros/[버전이름] 폴더에 설치

2. /home/사용자이름/robot_ws(사용자지정)

# 빌드 시스템과 빌드 툴
## 빌드 시스템
단일 패키지 대상으로 빌드
ROS의 C++에서는 CMAKE(CRoss platform make)기반의 catkin, ament_cmake
python에서는 python setuptool 사용
## 빌드 툴
시스템 전체를 대상으로 빌드
ros는 여러 패키지를 함께 호출하여 빌드하기 때문에
패키지들의 종속성 실타래를 풀고, 토폴로지 순서대로 빌드해야한다.
이 때 , 빌드툴을 사용한다.
패키지에 기술되어있는 종속성 그래프를 해석하고
토폴로지 순서로 가 ㄱ패키지에 대한 특정 빌드 시스템을 호출한다.
이러한 빌드 툴은 ros개발환경을 설정하고 빌드 시스템을 호출하고
빌드된 패키지를 사용하도록 실행환경을 구성한다.
ros 빌드 툴로는, rosbuild, catkin_make, catkin/_make_isolated, catkin_tools, ament_tools
그리고 ros2에서 널리 쓰이는 colcon이 있다.

## 단일 패키지와 시스템 전체를 따로 빌드하는 이유
의존성 때문
의존성 레벨은
해당 패키지의 역할에 따라 다른데
로우레벨 패키지 : 드라이버 단, 기본적 기능
의 경우에는 가장 기본적인 RCL(ROS Client libraries)만 의존성을 가짐.

상위레벨의 응용단 일수록
수십 개의 패키지가 필요로 하는 복합적인 의존성을 가짐.

간일 패키징

# 빌드 시스템에 필요한 부가기능
## vcstool : 버전 컨트롤 시스템 툴
ros는 수많은 소스코드 공여자로부터 만들어가는 코드의 집합이기 때문에
개발자의 소속도 정말 다양하고 각 코드들의 리포지터리도 제각가이다.
예를 들어, 어느 패키지는 github를, 어느 패키지는 bitbucket을 이용한다.
또한 vcs도 git, mercurial , subversion, bazaar등 다양함

ros 커뮤니티에서는 다양한 리포지터리-다양한 vcs의 혼재를 통합하기 위해
vcstool로 통합하였다.

자세한 사용법은 vcstool 리포지터리의 rweadme파일을 참고하자

## rosdep : 의존성 관리툴
위에 언급된 빌드툴들은
의존성을 고려하여 빌드해주긴 하지만
의ㅏ존성 자체를 해결해주진 안ㅇㅎ는다.
rosdep을 사용하면 pakcage.xml에 기술된 의존성 정보를 가지고 의존성 패키지를 설치해주는 역할을 한다.
경로에 설치된 패키즏ㄹ의 ㅣ의존성을 살펴보고
필요한 패키지들을 설치하거나
특정 패키지는 의존성 문제를 무시할 수 있다.
각 패키지의 package.xml의 depend옵션을 보고 사용자가 직접 의존서을 패키지를 설치할 수도 있지만
rosdep툴을 이요하면 해당 패키지의 의존성 화환경을 손쉽게 해결할 수 있다.

## bloom 바이너리 패키지 관리 툴
개발한 패키지를 ros 커뮤니티나 고객에게 전달하기 위해
쉽게 apt명령어를 통해 ㄱ설치하고 이를 사용할 수 있도록 하는게 제일 좋다.

이러한 바이너리 패키지 배포 및 관리를 위한 툴을 ros에서는 
bloom이라고 한다,.
이 툴을 사용하면 바이너리 패키지를 관리하기 위한 메타데이터를 생성하고
dpkg-buildpackage와 같은 플랫폼 종속 도구가 바이너리 패키지를 빌드하는데 사용된다.
앞서 소개한 툴들은 개발 과정에서 많이 사용되는데, bloom은 개발이 모두 끝난 이후 의를 배포하고
유지 관리할 떄 사용하게되묘ㅕ 그 시간과 노력이 많이 들어간다.

# 패키지 파일
## 패키지 설정 파일 = package.xml
ROS 패키지의 필수 구성요소로서, 패키지의 정보를 기술하는 파일이다.
패키지 이름
저작자
라이선스
의존성 패키지 등이 있다.
각 패키지당 무조건 1개의 패키지 설정 파일을 포함한다.
PACKAGE.XML에 대한 작성법은 ros 커뮤니티에서 지정한 pakcage format에 기술되어있으며
ros2기준으로는 package nformat3 문서만 참고하면 된다.

## 빌드 설정 파일 = CMakeLists.txt
ros2의 빌드시스템 ament를 기준으로
- cmake는 빌드를
- cmake list.txt는 패키지 폴더의 빌드 환경을 기술한다.

make는 유닉스 계열만 지원하지만
cmake는 유닉스 계열 인 리눅스, bsd, mac os 뿐 아니라 윈도우 계열도 지원한다.
cmakelists.tst는 visual studio, eclipse, qtcreator 등 다양한 ide에서 기본으로 지원한다.

## 파이썬 패키지 설정 파일 = setup.py
ros2 파이썬 패키지어서만 사용하는 배포를 위한 설정 파일로
ros2 c++ 패키지의 cmakelist.txt와 package.xml의 기능을 한다.
setup.py를 사용하며
ros2 파이썬 패키지는 cmakelists.txt는 사용하지 않고 이 파일을 사용한다.

단, package.xml파일은 ros패키지의 필수 구성 요소이기에
비슷한ㅇ 내용을 기입하더라도 패키지에 포함시켜야한다.
setup.py는 setuptools을 사용하여 다양한 배포릃 위한 설정을 하게 되어 있다.


## 파이썬 패키지 환경섫정 파일 setup.cfg
순수한 ros 2파이썬 패키지를 위한 배포를 위한 구성파일이다.
setup.py의 setup함수에서 설정못하는 기타 옵션들을 여기서 정의할 수 있다.
ros2 파이썬 패키지에서는 이 파일에
develop, install 옵션을 설저앟여 스크립트의 저장 위치를 설정한다.

## RQt 플러그인 설정 파일 = plugin.xml
rqt 플러그인으로 패키지를 작성할 때의 필수 구성 ㅇ요소로 xml태그로 가 ㄱ속성을 기술하는 파일이다.;


## 패키지 변경로그 파일= CHANGELOG.rst
패키지의 업데이트 내역을 기술하는 파일이다.
패키지에ㅓ 필수적으로 포함시켜야되는 파일은 아니지만
적절히 사용한다면 개발 이력을 추적할 때에도 도움이 된다.

개발된 패키지를 바이너리 패키지로 공개하는 절차를 수행한다면 이 파일을 필수로 포함ㄱ시켜야한다.

## 라이선스 파일 = LICENSE
패키지의 코드에 사용된 라이선스를 기술하는 파일이다.
복수 라이선스의 경우  license폴더를 생성한 후 서로 다른 파일명으로 구분한다.

## 패키지 설명 파일 = README.md
패키지의 부가 설명을 기술하는 파일로 ros패키지의 필수 포함 파일은 아니지만
패키지를 사용하는 사용자를 배려하는 문서이다.특별한 가이드는 없지만 사용자로 하여금 쉽게 관련 자료를 찾아
사용할 수 있도록 기술한다.
